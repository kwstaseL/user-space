<div class="display--container">
  <header class="page--header">Registered Users</header>

  <main>
    <section *ngIf="isLoading" class="page--label-offset">
      <span>Loading users...</span>
    </section>

    <section
      *ngIf="(!users || users.length === 0) && !errorMessage"
      class="page--label-offset"
    >
      <span class="state--empty">No users found.</span>
    </section>

    <section *ngIf="!isLoading" class="overflow-x-auto">
      <table *ngIf="users && users.length > 0" class="table--container">
        <thead>
          <tr>
            <th class="table--header-cell">Name</th>
            <th class="table--header-cell">Surname</th>
            <th class="table--header-cell">Actions</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          <tr *ngFor="let user of users" class="table--row">
            <td class="table--cell">{{ user.name }}</td>
            <td class="table--cell">{{ user.surname }}</td>
            <td class="table--cell">
              <button
                class="button--view"
                (click)="router.navigate(['/users', user.id])"
              >
                View
              </button>
              <button
                class="button--view opacity-50 cursor-not-allowed"
                disabled
              >
                Edit
              </button>
              <!-- id will always be there since it is generated by db -->
              <button class="button--delete" (click)="deleteUser(user.id!)">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </main>
</div>

<div *ngIf="errorMessage" class="error-message">
  <span>{{ errorMessage }}</span>
</div>
